"use strict";"undefined"==typeof self&&(this.self=this),function(){self.module||(self.module={exports:{}});let e=Date.now(),n=()=>((Date.now()-e)/1e3).toFixed(2).padStart(9,0),u=self.dbug=self.dbug||{level:1,set:e=>{0<=e&&(u.level=Math.min(e,3))},debug:function(){if(u.level<=0)return console.log(n(),"[DBG]",...arguments)},log:function(){if(u.level<=1)return console.log(n(),"|",...arguments)},warn:function(){if(u.level<=2)return console.log(n(),"[WRN]",...arguments)},error:function(){if(u.level<=3)return console.trace(n(),"[ERR]",...arguments)},since:n};self.noop=()=>{};let t=self.gapp=self.gapp||{},l=[];function o(e){return{funcs:e.filter(e=>"function"==typeof e),arrays:e.filter(e=>Array.isArray(e)),strings:e.filter(e=>"string"==typeof e),objects:e.filter(e=>"object"==typeof e&&!Array.isArray(e))}}t.overlay=Object.assign,t.register=function(){var e=o([...arguments]),n=e.strings[0],t,n={fn:e.funcs[0],name:n};l.push(n)},t.main=function(){var e=o([...arguments]),n=e.strings[0];const t=e.funcs[0],r=e.funcs[1];var s=self,f;r&&r(s);for(f of l){let{fn:l,name:o}=f;if(o&&u.debug(n+" | load | "+o),l){let e=o.split("."),n=e.pop(),t=s;for(var i of e)t=t[i]||(u.debug({creating_root:i,for:o}),t[i]={});let r=t[n]||{};l(s,e=>{if(e)return t[n]=Object.assign(r,e)})}else u.debug(`${n} | ${f.name} | missing fn()`)}l=null,t&&t(s)}}();!function(){var e="undefined"!=typeof self,s={COPYRIGHT:"Copyright (C) Stewart Allen <sa@grid.space> - All Rights Reserved",LICENSE:"See the license.md file included with the source distribution",VERSION:(e?self:this).debug_version||"3.9.1"};if("object"==typeof module&&(module.exports=s),e&&self.gapp){let e=self.gapp;e.license=s.LICENSE,e.version=s.VERSION,e.copyright=s.COPYRIGHT,gapp.register("moto.license"),(self.module=self.module||{}).exports=s}}();const service_worker=navigator.serviceWorker;async function start_service_worker(){const e=self.gapp.version;function r(){console.log(`[${e}]`,...arguments)}r("service worker registration");try{var i=await navigator.serviceWorker.register("/code/service.js?"+e,{scope:"/"});i.installing?r("service worker installing"):i.waiting?r("service worker waiting"):i.active?r("service worker active"):r({service_worker:i}),service_worker.controller&&service_worker.controller.postMessage("ctrl message")}catch(e){r("service worker registration failed",e)}}service_worker&&self.enable_service&&start_service_worker();